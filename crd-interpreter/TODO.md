####TODO
- [] add support for free clocks
- [done] implement boolean expression short-circuits